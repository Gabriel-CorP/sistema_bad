<p style="color: green"><%= notice %></p>
<div class="card-header d-flex justify-content-between align-items-center">
<h1>Usuarios</h1>
<%if can? :create, :all %>
  <%= link_to "Nuevo usuario" , new_usuario_path,  class:"btn btn-primary btn-sm  " %>
<%end%>
</div>
<br>





<table id="usuariosTabla" class="table table-striped table-responsive table-bordered table-sm">
  <thead>
    <tr>
      <th>Nombre de usuario</th>
      <th>Rol</th>
      <th>Opciones</th>
    </tr>
  </thead>
  <tbody>
    <% @usuarios.each do |usuario| %>
    <tr>
      <td>
        <strong><%=  usuario.nombre %></strong>
      </td>
      <td>
        <strong><%=  buscarRol(usuario.rol_id) %></strong>
      </td>
      <td>
        <div class="btn-toolbar" role="toolbar">
          <div class="btn-group" role="group">
            <%= button_to image_tag("ojo",width:25,height:25), usuario,method: :get, :class=>"btn " ,id:"btn-ver" , :title=>"Ver" %>
            <%= button_to image_tag("editar"), edit_usuario_path(usuario),:method=>:get, :class=>"btn " ,id:"btn-edit" ,:title=>"Editar"%>
            <%= button_to image_tag("trash"), usuario, method: :delete ,:class=>"btn " ,id:"btn-ver" ,:title=>"Eliminar" %>
          </div>
        </div>
      </td>


    </tr>
    <%end %>

  </tbody>
</table>



<script src="https://code.jquery.com/jquery-1.12.4.min.js"
  integrity="sha256-ZosEbRLbNQzLpnKIkEdrPv7lOy9C27hHQ+Xp8a4MxAQ=" crossorigin="anonymous"></script>


<script src="https://cdn.datatables.net/1.12.1/js/dataTables.bootstrap5.min.js" type="text/javascript"></script>
<link rel="stylesheet" type="text/css" href="https://cdn.datatables.net/1.12.0/css/jquery.dataTables.min.css"
  media="screen" />
<script src="https://cdn.datatables.net/1.12.0/js/jquery.dataTables.min.js" type="text/javascript"></script>


<script>
  $(document).ready(function () {
    var oTable = $("#usuariosTabla").DataTable({
      lengthMenu: [
        [5, 10, 25, 50, -1],
        [5, 10, 25, 50, 'All'],
      ],
      "language": {
        "lengthMenu": "Mostrar _MENU_ registros",
        "search": "Buscar:",
        zeroRecords: 'No hay registros para mostrar.',
        emptyTable: 'La tabla está vacia.',
        info: "Mostrando _START_ de _END_ de _TOTAL_ Registros.",
        paginate: {
          first: 'Primero',
          previous: 'Anterior',
          next: 'Siguiente',
          last: 'Último'
        }
      }
    })

  });
</script>