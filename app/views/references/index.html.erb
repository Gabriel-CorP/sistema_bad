<p style="color: green"><%= notice %></p>
<div class="card-header d-flex justify-content-between align-items-center">
  <h1>Referencias</h1>
  <%= link_to "Nueva referencia" , new_reference_path,  class:"btn btn-primary btn-sm  " %>
</div>
<br>

<table id="referenciasTabla"class="table table-responsive table-bordered">
  <thead>
    <tr>
      <th>Entidad </th>
      <th>Proveedor referenciado</th>
      <th>Opciones</th>
    </tr>
  </thead>
  <tbody>
    <% @references.each do |reference| %>
      <tr>
          <td>
            <strong><%=  reference.nombre_entidad %></strong>
          </td>
          <td>
            <strong><%=  buscarCompania(reference.proveedor_id) %></strong>
          </td>
          <td>
            <div class="btn-toolbar" role="toolbar">
              <div class="btn-group" role="group">
                <%= button_to image_tag("ojo",width:25,height:25), reference,method: :get, :class=>"btn " ,id:"btn-ver" , :title=>"Ver" %>
                <%= button_to image_tag("editar"), edit_reference_path(reference),:method=>:get, :class=>"btn " ,id:"btn-edit" ,:title=>"Editar"%>
                <%= button_to image_tag("trash"), reference, method: :delete ,:class=>"btn " ,id:"btn-ver" ,:title=>"Eliminar" %>
              </div>
            </div>
          </td>

        
      </tr>
    <%end %>
      
  </tbody>
</table>


<script
  src="https://code.jquery.com/jquery-1.12.4.min.js"
  integrity="sha256-ZosEbRLbNQzLpnKIkEdrPv7lOy9C27hHQ+Xp8a4MxAQ="
  crossorigin="anonymous"></script>

  
  <script src="https://cdn.datatables.net/1.12.1/js/dataTables.bootstrap5.min.js" type="text/javascript"></script>
  <link rel="stylesheet" type="text/css" href="https://cdn.datatables.net/1.12.0/css/jquery.dataTables.min.css" media="screen" />
  <script src="https://cdn.datatables.net/1.12.0/js/jquery.dataTables.min.js" type="text/javascript"></script>

  
  <script>
  $(document).ready(function() {
    var oTable = $("#referenciasTabla").DataTable({
      lengthMenu: [
            [5,10, 25, 50, -1],
            [5,10, 25, 50, 'All'],
        ],
      "language": {
        "lengthMenu": "Mostrar _MENU_ registros",
        "search": "Buscar:",
        zeroRecords: 'No hay registros para mostrar.',
        emptyTable: 'La tabla está vacia.',
        info: "Mostrando _START_ de _END_ de _TOTAL_ Registros.",
        paginate: {
          first: 'Primero',
          previous: 'Anterior',
          next: 'Siguiente',
          last: 'Último'
          }
      }
    })
    
    });
    </script>