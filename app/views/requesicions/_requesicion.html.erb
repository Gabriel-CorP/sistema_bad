<div id="<%= dom_id requesicion %>">
  <div class="card-header d-flex justify-content-between align-items-center">
    <h1 class="text text-secondary">Seguimiento de requisición</h1>
  </div>

  <div>
    <table class="table table-responsive table-bordered">
      <thead>
        <th>Prioridad</th>
        <th>Fecha de solicitud</th>
        <th>Fecha de entrega</th>
        <th>Estado</th>
      </thead>
      <tbody>
        <tr>
          <td><%= @requesicion.prioridad %></td>
          <td><%= @requesicion.fecha_solicitud %></td>
          <td><%= @requesicion.fecha_entrega %></td>
          <td><%= @requesicion.estado %></td>
        </tr>
        <% if @requesicion.estado == 'Denegado' %>
        <tr>
          <td>Observación</td>
          <td colspan="3"><%= @requesicion.observacion %></td>
        </tr>
        <% end %>
      </tbody>
    </table>
  </div>

  <div class="card-header d-flex justify-content-between align-items-center">
    <h4 class="text text-secondary">Detalle</h4>
  </div>
  <div class="table-responsive" style="overflow:hidden; overflow-y: scroll; height: 500px;">
    <table class="table table-responsive table-bordered" id="tabla_requesicion" width="90%" cellspacing="0">
      <colgroup>
        <col span="1" style="width: 80%;">
        <col span="1" style="width: 20%;">
      </colgroup>
      <thead style="top: 0; z-index: 2; position: sticky;">
        <th>
          Producto
        </th>
        <th>Cantidad</th>
      </thead>
      <tbody>
      <% if @productos_requesicion.empty? %>
        <tr>
          <td colspan="2">No hay productos registrados</td>
        </tr>
      <% else %>
        <% @productos_requesicion.each do |linreq| %>
          <tr>
            <td><%= linreq.producto.try(:nombre) %></td>
            <td><%= linreq.cantidad %></td>
          </tr>
        <% end %>
      <% end %>
      </tbody>
    </table>
  </div>
</div>
